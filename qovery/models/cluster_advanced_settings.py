# coding: utf-8

"""
    Qovery API

    - Qovery is the fastest way to deploy your full-stack apps on any Cloud provider. - ℹ️ The API is stable and still in development. 

    The version of the OpenAPI document: 1.0.3
    Contact: support+api+documentation@qovery.com
    Generated by OpenAPI Generator (https://openapi-generator.tech)

    Do not edit the class manually.
"""  # noqa: E501


from __future__ import annotations
import pprint
import re  # noqa: F401
import json


from typing import Any, ClassVar, Dict, List, Optional
from pydantic import BaseModel, StrictBool, StrictInt, StrictStr, field_validator
from pydantic import Field
from qovery.models.registry_mirroring_mode_enum import RegistryMirroringModeEnum
try:
    from typing import Self
except ImportError:
    from typing_extensions import Self

class ClusterAdvancedSettings(BaseModel):
    """
    ClusterAdvancedSettings
    """ # noqa: E501
    aws_cloudwatch_eks_logs_retention_days: Optional[StrictInt] = Field(default=None, description="Set the number of retention days for EKS Cloudwatch logs", alias="aws.cloudwatch.eks_logs_retention_days")
    aws_vpc_enable_s3_flow_logs: Optional[StrictBool] = Field(default=None, description="Enable flow logs for on the VPC and store them in an S3 bucket", alias="aws.vpc.enable_s3_flow_logs")
    aws_vpc_flow_logs_retention_days: Optional[StrictInt] = Field(default=None, description="Set the number of retention days for flow logs. Disable with value \"0\"", alias="aws.vpc.flow_logs_retention_days")
    loki_log_retention_in_week: Optional[StrictInt] = Field(default=None, description="For how long in week loki is going to keep logs of your applications", alias="loki.log_retention_in_week")
    registry_image_retention_time: Optional[StrictInt] = Field(default=None, description="Configure the number of seconds before cleaning images in the registry", alias="registry.image_retention_time")
    cloud_provider_container_registry_tags: Optional[Dict[str, StrictStr]] = Field(default=None, description="Add additional tags on the cluster dedicated registry", alias="cloud_provider.container_registry.tags")
    load_balancer_size: Optional[StrictStr] = Field(default=None, description="Select the size of the main load_balancer (only effective for Scaleway)", alias="load_balancer.size")
    database_postgresql_deny_public_access: Optional[StrictBool] = Field(default=None, description="Deny public access to any PostgreSQL database", alias="database.postgresql.deny_public_access")
    database_postgresql_allowed_cidrs: Optional[List[StrictStr]] = Field(default=None, description="List of CIDRs allowed to access the PostgreSQL database", alias="database.postgresql.allowed_cidrs")
    database_mysql_deny_public_access: Optional[StrictBool] = Field(default=None, description="Deny public access to any MySql database", alias="database.mysql.deny_public_access")
    database_mysql_allowed_cidrs: Optional[List[StrictStr]] = Field(default=None, description="List of CIDRs allowed to access the MySql database", alias="database.mysql.allowed_cidrs")
    database_mongodb_deny_public_access: Optional[StrictBool] = Field(default=None, description="Deny public access to any MongoDB/DocumentDB database", alias="database.mongodb.deny_public_access")
    database_mongodb_allowed_cidrs: Optional[List[StrictStr]] = Field(default=None, description="List of CIDRs allowed to access the MongoDB/DocumentDB database", alias="database.mongodb.allowed_cidrs")
    database_redis_deny_public_access: Optional[StrictBool] = Field(default=None, description="Deny public access to any Redis database", alias="database.redis.deny_public_access")
    database_redis_allowed_cidrs: Optional[List[StrictStr]] = Field(default=None, description="List of CIDRs allowed to access the Redis database", alias="database.redis.allowed_cidrs")
    aws_iam_admin_group: Optional[StrictStr] = Field(default=None, description="AWS IAM group name with cluster access", alias="aws.iam.admin_group")
    aws_eks_ec2_metadata_imds: Optional[StrictStr] = Field(default=None, description="Specify the [IMDS](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html) version you want to use:   * `required`: IMDS V2 only   * `optional`: IMDS V1 + V2 ", alias="aws.eks.ec2.metadata_imds")
    pleco_resources_ttl: Optional[StrictInt] = Field(default=None, alias="pleco.resources_ttl")
    registry_mirroring_mode: Optional[RegistryMirroringModeEnum] = Field(default=None, alias="registry.mirroring_mode")
    nginx_vcpu_request_in_milli_cpu: Optional[StrictInt] = Field(default=None, description="vcpu request in millicores", alias="nginx.vcpu.request_in_milli_cpu")
    nginx_vcpu_limit_in_milli_cpu: Optional[StrictInt] = Field(default=None, description="vcpu limit in millicores", alias="nginx.vcpu.limit_in_milli_cpu")
    nginx_memory_request_in_mib: Optional[StrictInt] = Field(default=None, description="memory request in MiB", alias="nginx.memory.request_in_mib")
    nginx_memory_limit_in_mib: Optional[StrictInt] = Field(default=None, description="memory limit in MiB", alias="nginx.memory.limit_in_mib")
    nginx_hpa_cpu_utilization_percentage_threshold: Optional[StrictInt] = Field(default=None, description="hpa cpu threshold in percentage", alias="nginx.hpa.cpu_utilization_percentage_threshold")
    nginx_hpa_min_number_instances: Optional[StrictInt] = Field(default=None, description="hpa minimum number of instances", alias="nginx.hpa.min_number_instances")
    nginx_hpa_max_number_instances: Optional[StrictInt] = Field(default=None, description="hpa maximum number of instances", alias="nginx.hpa.max_number_instances")
    __properties: ClassVar[List[str]] = ["aws.cloudwatch.eks_logs_retention_days", "aws.vpc.enable_s3_flow_logs", "aws.vpc.flow_logs_retention_days", "loki.log_retention_in_week", "registry.image_retention_time", "cloud_provider.container_registry.tags", "load_balancer.size", "database.postgresql.deny_public_access", "database.postgresql.allowed_cidrs", "database.mysql.deny_public_access", "database.mysql.allowed_cidrs", "database.mongodb.deny_public_access", "database.mongodb.allowed_cidrs", "database.redis.deny_public_access", "database.redis.allowed_cidrs", "aws.iam.admin_group", "aws.eks.ec2.metadata_imds", "pleco.resources_ttl", "registry.mirroring_mode", "nginx.vcpu.request_in_milli_cpu", "nginx.vcpu.limit_in_milli_cpu", "nginx.memory.request_in_mib", "nginx.memory.limit_in_mib", "nginx.hpa.cpu_utilization_percentage_threshold", "nginx.hpa.min_number_instances", "nginx.hpa.max_number_instances"]

    @field_validator('aws_eks_ec2_metadata_imds')
    def aws_eks_ec2_metadata_imds_validate_enum(cls, value):
        """Validates the enum"""
        if value is None:
            return value

        if value not in ('optional', 'required'):
            raise ValueError("must be one of enum values ('optional', 'required')")
        return value

    model_config = {
        "populate_by_name": True,
        "validate_assignment": True,
        "protected_namespaces": (),
    }


    def to_str(self) -> str:
        """Returns the string representation of the model using alias"""
        return pprint.pformat(self.model_dump(by_alias=True))

    def to_json(self) -> str:
        """Returns the JSON representation of the model using alias"""
        # TODO: pydantic v2: use .model_dump_json(by_alias=True, exclude_unset=True) instead
        return json.dumps(self.to_dict())

    @classmethod
    def from_json(cls, json_str: str) -> Self:
        """Create an instance of ClusterAdvancedSettings from a JSON string"""
        return cls.from_dict(json.loads(json_str))

    def to_dict(self) -> Dict[str, Any]:
        """Return the dictionary representation of the model using alias.

        This has the following differences from calling pydantic's
        `self.model_dump(by_alias=True)`:

        * `None` is only added to the output dict for nullable fields that
          were set at model initialization. Other fields with value `None`
          are ignored.
        """
        _dict = self.model_dump(
            by_alias=True,
            exclude={
            },
            exclude_none=True,
        )
        return _dict

    @classmethod
    def from_dict(cls, obj: Dict) -> Self:
        """Create an instance of ClusterAdvancedSettings from a dict"""
        if obj is None:
            return None

        if not isinstance(obj, dict):
            return cls.model_validate(obj)

        _obj = cls.model_validate({
            "aws.cloudwatch.eks_logs_retention_days": obj.get("aws.cloudwatch.eks_logs_retention_days"),
            "aws.vpc.enable_s3_flow_logs": obj.get("aws.vpc.enable_s3_flow_logs"),
            "aws.vpc.flow_logs_retention_days": obj.get("aws.vpc.flow_logs_retention_days"),
            "loki.log_retention_in_week": obj.get("loki.log_retention_in_week"),
            "registry.image_retention_time": obj.get("registry.image_retention_time"),
            "cloud_provider.container_registry.tags": obj.get("cloud_provider.container_registry.tags"),
            "load_balancer.size": obj.get("load_balancer.size"),
            "database.postgresql.deny_public_access": obj.get("database.postgresql.deny_public_access"),
            "database.postgresql.allowed_cidrs": obj.get("database.postgresql.allowed_cidrs"),
            "database.mysql.deny_public_access": obj.get("database.mysql.deny_public_access"),
            "database.mysql.allowed_cidrs": obj.get("database.mysql.allowed_cidrs"),
            "database.mongodb.deny_public_access": obj.get("database.mongodb.deny_public_access"),
            "database.mongodb.allowed_cidrs": obj.get("database.mongodb.allowed_cidrs"),
            "database.redis.deny_public_access": obj.get("database.redis.deny_public_access"),
            "database.redis.allowed_cidrs": obj.get("database.redis.allowed_cidrs"),
            "aws.iam.admin_group": obj.get("aws.iam.admin_group"),
            "aws.eks.ec2.metadata_imds": obj.get("aws.eks.ec2.metadata_imds"),
            "pleco.resources_ttl": obj.get("pleco.resources_ttl"),
            "registry.mirroring_mode": obj.get("registry.mirroring_mode"),
            "nginx.vcpu.request_in_milli_cpu": obj.get("nginx.vcpu.request_in_milli_cpu"),
            "nginx.vcpu.limit_in_milli_cpu": obj.get("nginx.vcpu.limit_in_milli_cpu"),
            "nginx.memory.request_in_mib": obj.get("nginx.memory.request_in_mib"),
            "nginx.memory.limit_in_mib": obj.get("nginx.memory.limit_in_mib"),
            "nginx.hpa.cpu_utilization_percentage_threshold": obj.get("nginx.hpa.cpu_utilization_percentage_threshold"),
            "nginx.hpa.min_number_instances": obj.get("nginx.hpa.min_number_instances"),
            "nginx.hpa.max_number_instances": obj.get("nginx.hpa.max_number_instances")
        })
        return _obj


